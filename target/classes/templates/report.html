<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymleaf.com">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="report.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
  <div class="analyst"
    style="font-family: monospace;font-weight: 900;font-size: x-large; display: flex;justify-content: center;justify-items: center;margin-top: 20px; margin-bottom: 20px;">
    Report Panel
  </div>
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">S.N</th>
        <th scope="col">Name</th>
        <th scope="col">Business Name</th>
        <th scope="col">Analysis Category</th>
        <th scope="col">File Name</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr th:if="${emptyvalue}">
        <td colspan="6" th:text="'No Data Present'" style="text-align: center;"></td>
      </tr>
      <tr th:each="customer:${usersDetails}">
        <td th:text="${customer.sn}"></td>
        <td th:text="${customer.name}"></td>
        <td th:text="${customer.bussiness}">Hotel</td>
        <td th:text="${customer.catageory}">Basic</td>
        <td th:text="${customer.filename}">Hotel.excel</td>
        <td>
          <!-- <a th:href="@{'/edit/'+${customer.sn}}"><button type="button" class="btn btn-warning">Edit</button> -->
          </a>
          <a th:href="@{'/delete/'+${customer.sn}}"> <button type="button"
              class="btn btn-danger">Delete</button></a>
              <a th:href="@{'/analyze/'+${customer.sn}}"> <button type="button"
                class="btn btn-danger">Analyze Now</button></a>

          <!-- <a href="/runPython" target="_blank"> <button type="button" class="btn btn-success">Analyze Now</button></a> -->

        </td>
      </tr>
    </tbody>
  </table>
  <div class="edit" th:if="${edit}">
    <div class="containerOne">
      <label for="business">Select Business:</label>
      <select id="business" name="bussiness" required>
        <option value="" disabled selected>Select business</option>

        <option value="cafe">Cafe</option>
        <option value="hotel">Hotel</option>
        <option value="lodge">Lodge</option>
      </select>


    </div>
    <div class="containerThree">
      <label for="uploadfile">Upload your Excel file</label>
      <br>
      <input type="file" name="file" id="" required>
    </div>
    <div class="containerFour">
      <label for="message">Give Us Message</label>
      <input type="text" name="message" required>
    </div>
    <div class="submission">
      <div class="reset">
        <input type="reset" value="Reset">
        <input value="Submit" type="submit">
      </div>

    </div>
  </div>
  <div th:if="${reportfile}" class="repportsection">
    <div class="report_message">
      <div class="messagefromanalyst">
        <div class="label">
          <label for="">Message From Analyst</label>
        </div>
        <div class="paragraph">
          <p th:text="${message}"></p><br>
        </div>
      </div>
      <div class="feedback">
        <form action="/feedback">
          <label for="msg">
            <i class="fa-solid fa-comments" style="margin-right: 3px;"></i>
            Give us feedback:
          </label>
          <textarea id="msg" name="msg" rows="4" cols="10" required>
           </textarea>
          <button type="submit">
            Submit
          </button>
        </form>
      </div>

    </div>
    <div class="iframe">
      <iframe th:src="@{'/showreport/'+${customer.sn}}" width="600" height="500"></iframe>></iframe>
    </div>
  </div>

</body>

</html>









<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</body>

</html>